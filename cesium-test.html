<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cesium 3D Tiles Test</title>
  <!-- Debug text to see if the page loads -->
  <h1 id="debug">Loading Cesium...</h1>
  
  <script src="https://cesium.com/downloads/cesiumjs/releases/1.127.0/Build/Cesium/Cesium.js"></script>
  <link href="https://cesium.com/downloads/cesiumjs/releases/1.127.0/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
  <style>
    html, body, #cesiumContainer {
      width: 100%;
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    /* Make the debug text visible over the map */
    #debug {
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1000;
      background: rgba(255,255,255,0.8);
      padding: 5px;
    }
  </style>
</head>
<body>
  <div id="cesiumContainer"></div>
  <script>
    // Update debug text
    document.getElementById('debug').innerText = "Cesium script loaded, initializing...";

    // Your Cesium Ion access token
    Cesium.Ion.defaultAccessToken = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlNTkyNmQxZi0zODUzLTQzYmEtOThmYi1iOWQxNDYzYTJkZGQiLCJpZCI6Mjc3MzY1LCJpYXQiOjE3NDIzOTQ1ODJ9.P9N9vgL0uBNiH8s8SZXj0_2nYdalMaHE4gqPwIw1YMk';
    
    try {
      // Update debug
      document.getElementById('debug').innerText = "Creating viewer...";
      
      // Create the Cesium Viewer
      const viewer = new Cesium.Viewer('cesiumContainer', {
        animation: false,
        baseLayerPicker: false,
        fullscreenButton: false,
        geocoder: false,
        homeButton: false,
        infoBox: false,
        sceneModePicker: false,
        timeline: false
      });
      
      document.getElementById('debug').innerText = "Setting camera...";
      
      // Set camera position to Rotterdam coordinates
      viewer.camera.setView({
        destination: Cesium.Cartesian3.fromDegrees(4.440982, 51.910920, 300),
        orientation: {
          heading: Cesium.Math.toRadians(-13),
          pitch: Cesium.Math.toRadians(-45),
          roll: 0
        }
      });
      
      document.getElementById('debug').innerText = "Loading 3D tileset...";
      
      // Load 3D Tileset from Cesium Ion
      const tileset = new Cesium.Cesium3DTileset({
        url: Cesium.IonResource.fromAssetId(3224749)
      });
      
      // Add the tileset to the scene
      viewer.scene.primitives.add(tileset);
      
      document.getElementById('debug').innerText = "Waiting for tileset to load...";
      
      // Optional: Zoom to the tileset when loaded
      tileset.readyPromise
        .then(() => {
          document.getElementById('debug').innerText = "Tileset loaded successfully!";
          viewer.zoomTo(tileset);
        })
        .catch(error => {
          document.getElementById('debug').innerText = "Error loading tileset: " + error.message;
          console.error('Error loading tileset:', error);
        });
    } catch (error) {
      document.getElementById('debug').innerText = "Error: " + error.message;
      console.error('Error initializing Cesium:', error);
    }
  </script>
</body>
</html>